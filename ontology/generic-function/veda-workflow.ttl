@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix v-df: <http://semantic-machines.com/veda/veda-docflow/> .
@prefix cfg: <http://semantic-machines.com/veda/config/> .

<http://semantic-machines.com/veda/veda-workflow>
  rdfs:isDefinedBy v-wf: ;
  rdf:type owl:Ontology ;
  rdfs:label "Онтология потоков работ системы Veda"@ru ;
  rdfs:label "Veda system workflow ontology"@en ;
#  owl:DversionInfo "1.2" ;
  v-s:loadPriority 7 ;
.

v-wf:appInboxUrl
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-s:AppInfo ;
  rdfs:isDefinedBy v-s: ;
  rdfs:label "App inbox url"@ru ;
  rdfs:range xsd:string ;
.

v-wf:Net
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Сеть"@ru ;
  rdfs:label "Net"@en ;
.
v-wf:NetElement
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Элемент сети"@ru ;
  rdfs:label "Net element"@en ;
.
v-wf:Condition
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:NetElement ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Состояние"@ru ;
  rdfs:label "Condition"@en ;
.
v-wf:InputCondition
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Condition ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Входное состояние"@ru ;
  rdfs:label "Input condition"@en ;
.
v-wf:OutputCondition
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Condition ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выходное состояние"@ru ;
  rdfs:label "Output condition"@en ;
.
v-wf:Task
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:NetElement ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Задача"@ru ;
  rdfs:label "Task"@en ;
.
v-wf:Flow
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Поток"@ru ;
  rdfs:label "Flow"@en ;
.
v-wf:ExecutorDefinition
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выбор исполнителя"@ru ;
  rdfs:label "Executor definition"@en ;
.
v-wf:TransitionBehavior
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Тип перехода"@ru ;
  rdfs:label "Transition behavior"@en ;
.

v-wf:belongsTo
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Принадлежит к..."@ru ;
  rdfs:label "Belongs to..."@en ;
  rdfs:domain v-wf:NetElement ;
  rdfs:range v-wf:Net .

v-wf:hasFlow
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Имеет поток"@ru ;
  rdfs:label "Has flow"@en ;
  rdfs:domain v-wf:NetElement ;
  rdfs:range v-wf:Flow ;
.
v-wf:consistsOf
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Состоит из"@ru ;
  rdfs:label "Consists Of"@en ;
  rdfs:domain v-wf:Net ;
  rdfs:range v-wf:NetElement ;
  rdfs:range v-wf:Flow ;
.

v-wf:locationX
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Позиция по Х"@ru ;
  rdfs:label "Location X"@en ;
  rdfs:domain v-wf:NetElement ;
  rdfs:range xsd:integer ;
.
v-wf:locationY
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Позиция по Y"@ru ;
  rdfs:label "Location Y"@en ;
  rdfs:domain v-wf:NetElement ;
  rdfs:range xsd:integer ;
.

v-wf:XOR
  rdf:type v-wf:TransitionBehavior ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "XOR"^^xsd:string ;
.
v-wf:OR
  rdf:type v-wf:TransitionBehavior ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "OR"^^xsd:string ;
.
v-wf:AND
  rdf:type v-wf:TransitionBehavior ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "AND"^^xsd:string ;
.
v-wf:None
  rdf:type v-wf:TransitionBehavior ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "None"^^xsd:string ;
.

v-wf:subNet
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Подсеть"@ru ;
  rdfs:label "Subnet"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Net ;
.
v-wf:inputVariable
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Входная переменная"@ru ;
  rdfs:label "Input variable"@en ;
  rdfs:domain v-wf:Net ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:VarDefine ;
.
v-wf:outputVariable
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выходная переменная"@ru ;
  rdfs:label "Output variable"@en ;
  rdfs:domain v-wf:Net ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:VarDefine ;
.
v-wf:localVariable
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Локальная переменная"@ru ;
  rdfs:label "Local variable"@en ;
  rdfs:domain v-wf:Net ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:VarDefine ;
.
v-wf:taskDecisionForm
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Форма задачи"@ru ;
  rdfs:label "Decision form"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:DecisionForm ;
.
v-wf:expectedResultType
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Ожидаемый тип результата"@ru ;
  rdfs:label "Expected result type"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range owl:Class ;
.

v-wf:startDecisionTransform
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Создание задачи"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Transform ;
.

v-wf:completeDecisionTransform
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Обработка ответа на задачу"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Transform ;
.

v-wf:inputOutputVariable
  rdfs:isDefinedBy v-wf: ;
  rdf:type rdf:Property ;
  rdfs:label "Входная / выходная переменная"@ru ;
  rdfs:label "Input/output variable"@en ;
  rdfs:domain v-wf:Net ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:VarDefine ;
.

v-wf:split
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Разветвление"@ru ;
  rdfs:label "Split"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:TransitionBehavior ;
.

v-wf:join
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Объединение"@ru ;
  rdfs:label "Join"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:TransitionBehavior ;
.

v-wf:flowsInto
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Направление потока"@ru ;
  rdfs:label "Flows into"@en ;
  rdfs:domain v-wf:Flow ;
  rdfs:range v-wf:NetElement ;
.

v-wf:predicate
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Предикат потока"@ru ;
  rdfs:label "Flow predicate"@en ;
  rdfs:domain v-wf:Flow ;
  rdfs:range xsd:string ;
.

v-wf:startingMapping
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Стартовое преобразование"@ru ;
  rdfs:label "Starting mapping"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:completedMapping
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Конечное преобразование"@ru ;
  rdfs:label "Completed mapping"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:wosResultsMapping
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Преобразование результатов рабочих заданий"@ru ;
  rdfs:label "Work orders results mapping"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:executor
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Исполнитель"@ru ;
  rdfs:label "Executor"@en ;
  rdfs:domain v-wf:Task ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:domain v-wf:Process ;
  rdfs:range v-wf:ExecutorDefinition ;
  rdfs:range v-s:Appointment ;
  rdfs:range v-s:Codelet ;
.

v-wf:executorExpression
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение выбора исполнителя"@ru ;
  rdfs:label "Executor choice expression"@en ;
  rdfs:domain v-wf:ExecutorDefinition ;
  rdfs:range xsd:string ;
.

v-wf:enforceProcessing
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Обработать принудительно"@ru ;
  rdfs:label "Enforce processing"@en ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:range xsd:boolean ;
.

#------------------------------------------------------
v-wf:VarDefine
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Определение переменой"@ru ;
  rdfs:label "Variable"@en ;
.

v-wf:varDefineName
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Имя определяемой переменной"@ru ;
  rdfs:label "Variable name"@en ;
  rdfs:domain v-wf:VarDefine ;
  rdfs:range xsd:string ;
.

v-wf:varDefineScope
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Определяемая область видимости"@ru ;
  rdfs:domain v-wf:VarDefine ;
  rdfs:range v-wf:Net ;
  rdfs:range v-wf:Task ;
.


v-wf:Variable
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Переменная"@ru ;
  rdfs:label "Variable"@en ;
.

v-wf:variableName
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Имя переменной"@ru ;
  rdfs:label "Variable name"@en ;
  rdfs:domain v-wf:Variable ;
  rdfs:range xsd:string ;
.

v-wf:variableValue
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Значение переменной"@ru ;
  rdfs:label "Variable value"@en ;
  rdfs:domain v-wf:Variable ;
  rdfs:range rdfs:Resource ;
.

v-wf:variableScope
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Область видимости"@ru ;
  rdfs:domain v-wf:Variable ;
  rdfs:range v-wf:Process ;
  rdfs:range v-wf:WorkItem ;
.

v-wf:complete
  rdf:type v-wf:Variable ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:variableName "complete" ;
  v-wf:variableValue "yes" ;
.

v-wf:isTrace
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Использовать трассировку"@ru ;
  rdfs:domain v-wf:Process,  v-wf:StartForm ;
  rdfs:range xsd:boolean ;
.


#------------------------------------------------------
v-wf:netPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства комментарий"@ru ;
  rdfs:label "Property specification for comment"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:forProperty rdfs:comment, rdfs:label ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.

v-wf:netPropertySpecification2
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация исполнителя для класса Задача"@ru ;
  rdfs:label "Executor property specification for Task class"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:forProperty v-wf:inputVariable, v-wf:outputVariable, v-wf:inputOutputVariable, v-wf:localVariable ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:VarDefine')"^^xsd:string ;
.

v-wf:netPropertySpecification3
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация мэпперов для класса Задача"@ru ;
  rdfs:label "Mapper property specification for Task class"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:forProperty v-wf:completedMapping ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Mapping')"^^xsd:string ;
.

v-wf:SimpleNetTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Сеть"@ru ;
  rdfs:label "Template for Net class"@en ;
  v-ui:template """
<div>
  <table id="taskTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:Net" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('#VClabel').show(); $('#viewVClabel').hide();">
      <td><span about="rdfs:label" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VClabel" data-type="string" property="rdfs:label" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVClabel" about="@" property="rdfs:label"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCcomment').show(); $('#viewVCcomment').hide();">
      <td><span about="rdfs:comment" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCcomment" data-type="string" property="rdfs:comment" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVCcomment" about="@" property="rdfs:comment"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCinputVariable').show(); $('.viewVCinputVariable').hide();">
      <td><span about="v-wf:inputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inputVariable" data-type="link" class="VCinputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinputVariable" rel="v-wf:inputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVCinputVariable" about="@" rel="v-wf:inputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCoutputVariable').show(); $('.viewVCoutputVariable').hide();">
      <td><span about="v-wf:outputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:outputVariable" data-type="link" class="VCoutputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCoutputVariable" rel="v-wf:outputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVCoutputVariable" about="@" rel="v-wf:outputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VClocalVariable').show(); $('.viewVClocalVariable').hide();">
      <td><span about="v-wf:localVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:localVariable" data-type="link" class="VClocalVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VClocalVariable" rel="v-wf:localVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVClocalVariable" about="@" rel="v-wf:localVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCinputOutputVariable').show(); $('.viewVCinputOutputVariable').hide();">
      <td><span about="v-wf:inputOutputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inputOutputVariable" data-type="link" class="VCinputOutputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinputOutputVariable" rel="v-wf:inputOutputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVCinputOutputVariable" about="@" rel="v-wf:inputOutputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCcompletedMapping').show()).show();">
      <td>
        <span about="v-wf:completedMapping" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:completedMapping" data-type="link" class="VCcompletedMapping fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:completedMapping">
          <div class="VCcompletedMapping">
            #<a href="#/@">
              <span about="@" rel="v-wf:mapToVariable">
                <span>
                  <span about="@" property="v-wf:varDefineName"></span>
                </span>
              </span> =
              <span about="@" property="v-wf:mappingExpression"></span>
              [<span about="@" property="@"></span>]
            </a>
          <div>
        </div>
      </td>
    </tr>
  </table>
</div>
<script>
  $('#taskTemplateProperties [rel="v-wf:inputVariable"] [typeof="v-wf:VarDefine"]').draggable({
    revert:true
  });
  //# sourceURL=v-wf:SimpleNetTemplate
</script>
  """ ;
.

v-wf:TS_Net 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:NetTemplate;
  v-ui:forClass v-wf:Net
.
v-wf:NetTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Сеть"@ru ;
  rdfs:label "Template for Net class"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:template """
<div class="workflow-wrapper container-fluid sheet">
  <style>
    #main {
      margin-bottom: 0px;
    }
  </style>
  <div class="row">
    <div id="schema" class="col-md-8" style="border-right: 1px solid #ddd;">
      <div class="workflow-canvas-wrapper">
        <div class="row" id="workflow-toolbar">
          <div class="col-md-4">
            <h4 id="workflow-net-name" style="margin-left:10px"></h4>
          </div>
          <div class="col-md-8">
            <div class="btn-toolbar pull-right">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default create-state create-task">
                  <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default create-state create-condition">
                  <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default edit-state">
                  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default copy-net-element">
                  <span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default delete-state">
                  <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                </button>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default zoom-in">
                  <span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default zoom-default">
                  <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default zoom-out">
                  <span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span>
                </button>
              </div>
              <div class="btn-group">
                <button id="workflow-save-button" type="button" class="btn btn-sm btn-default">
                  <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                </button>
                <button id="workflow-export-ttl" type="button" class="btn btn-sm btn-default">
                  <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                </button>
              </div>
              <div class="btn-group">
                <button id="full-width" class="btn btn-sm btn-default">
                <span class=" glyphicon glyphicon-resize-full" aria-hidden="true"></span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div id="workflow-canvas"></div>
      </div>
    </div>
    <div id="props-col" class="col-md-4">
      <h4>Элемент: <span id="props-head" property="rdfs:label"></span></h4><hr class="no-margin"/><br/>
      <div id="props"></div>
    </div>
  </div>
  <div id="workflow-context-menu" class="dropdown clearfix">
    <ul class="workflow-context-menu-list" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;"></ul>
  </div>
</div>
<script>
  var wrapper = $(".workflow-canvas-wrapper", template),
    height = ( $("#copyright").offset().top - wrapper.offset().top - 25 ) + "px",
    fullWidth = $("#full-width", template),
    icon = $("span", fullWidth),
    propsCol = $("#props-col", template),
    schema = $("#schema", template);
  wrapper.css("height", height);
  propsCol.css("height", height);
  fullWidth.click(function () {
    propsCol.toggle();
    icon.toggleClass("glyphicon-resize-full glyphicon-resize-small");
    schema.toggleClass("col-md-8 col-md-12");
  });
  jsWorkflow.ready(function () {
    // Create a new workflow instance as workflow
    var workflow = new jsWorkflow.Instance();

    // Initialize workflow with workflow container id
    var net = workflow.init('workflow-canvas', veda, individual, template, container);

    veda.net = net;

    template.one("remove", function () {
      delete veda.net
    });
  });
  //# sourceURL=v-wf:NetTemplate
</script>
  """ ;
.

v-wf:TS_Process
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ProcessTemplate;
  v-ui:forClass v-wf:Process
.
v-wf:ProcessTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Процесс"@ru ;
  rdfs:label "Template for Process"@en ;
  v-ui:forClass v-wf:Process ;
  v-ui:template """
<div class="workflow-wrapper container-fluid sheet">
  <style>
    #main {
      margin-bottom: 0px;
    }
  </style>
  <div class="row">
    <div id="schema" class="col-md-8">
      <div class="workflow-canvas-wrapper">
        <div class="row" id="workflow-toolbar">
          <div class="col-md-4">
            <h4 id="workflow-net-name" style="margin-left:10px"></h4>
          </div>
          <div class="col-md-8">
            <div class="btn-toolbar pull-right">

              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default zoom-in">
                  <span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default zoom-default">
                  <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-sm btn-default zoom-out">
                  <span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span>
                </button>
              </div>

              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default process-refresh">
                  <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
                </button>
              </div>
              <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-default to-net-editor">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                  </button>
              </div>
              <div class="btn-group">
                <button id="full-width" class="btn btn-sm btn-default">
                <span class=" glyphicon glyphicon-resize-full" aria-hidden="true"></span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div id="workflow-canvas">
        </div>
      </div>
    </div>
    <div id="props-col" class="col-md-4">
      <h4>Элемент: <span id="props-head" property="rdfs:label"></span></h4><hr class="no-margin"/><br/>
      <div id="props"></div>
    </div>
    <div id="workflow-context-menu" class="dropdown clearfix">
        <ul class="workflow-context-menu-list" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
        </ul>
    </div>
  </div>
</div>

<script>
  var wrapper = $(".workflow-canvas-wrapper", template),
    height = ( $("#copyright").offset().top - wrapper.offset().top - 15 ) + "px",
    fullWidth = $("#full-width", template),
    icon = $("span", fullWidth),
    propsCol = $("#props-col", template),
    schema = $("#schema", template);
  wrapper.css("height", height);
  propsCol.css("height", height);
  fullWidth.click(function () {
    propsCol.toggle();
    icon.toggleClass("glyphicon-resize-full glyphicon-resize-small");
    schema.toggleClass("col-md-8 col-md-12");
  });
  jsWorkflow.ready(function () {
      // Create a new workflow instance as workflow
      var workflow = new jsWorkflow.Instance();

      // Initialize workflow with workflow container id
      var net = workflow.init('workflow-canvas', veda, individual, template, container);
  });
  //# sourceURL=v-wf:ProcessTemplate
</script>
  """ ;
.
v-wf:taskPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства locationX, locationY"@ru ;
  rdfs:label "Property specification for locationX, locationY"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:locationX, v-wf:locationY ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:defaultValue "10"^^xsd:integer ;
.
v-wf:taskPropertySpecification2
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства комментарий"@ru ;
  rdfs:label "Property specification for comment"@en ;
  v-ui:forClass v-wf:Task, v-wf:Condition, v-wf:InputCondition, v-wf:OutputCondition, v-wf:Flow ;
  v-ui:forProperty rdfs:comment, rdfs:label ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
v-wf:taskPropertySpecification2_1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства комментарий"@ru ;
  rdfs:label "Property specification for comment"@en ;
  v-ui:forClass v-wf:Flow ;
  v-ui:forProperty v-wf:predicate ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
v-wf:taskPropertySpecification3
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства join, split"@ru ;
  rdfs:label "Specification for join, split"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:join, v-wf:split ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:optionValue v-wf:AND ;
  v-ui:optionValue v-wf:OR ;
  v-ui:optionValue v-wf:XOR ;
  v-ui:optionValue v-wf:None ;
  v-ui:defaultValue v-wf:None ;
.
v-wf:taskPropertySpecification4
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация ожидаемого типа результата для класса Задача"@ru ;
  rdfs:label "Expected result type property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:expectedResultType ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdf:type'=='owl:Class')"^^xsd:string ;
.
v-wf:taskPropertySpecification6
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация трансформаций для класса Задача"@ru ;
  rdfs:label "Transform property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:startDecisionTransform, v-wf:completeDecisionTransform ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Transform')"^^xsd:string ;
.
v-wf:taskPropertySpecification7
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация исполнителя для класса Задача"@ru ;
  rdfs:label "Executor property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:executor ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:ExecutorDefinition' ||  'rdf:type'=='v-s:Codelet' ||  'rdf:type'=='v-s:Appointment')"^^xsd:string ;
.

v-wf:taskPropertySpecification8
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация исполнителя для класса Задача"@ru ;
  rdfs:label "Executor property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:inputVariable, v-wf:outputVariable, v-wf:inputOutputVariable, v-wf:localVariable ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:VarDefine')"^^xsd:string ;
.
v-wf:taskPropertySpecification9
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация подсети для класса Задача"@ru ;
  rdfs:label "Subnet property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:subNet ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Net')"^^xsd:string ;
.
v-wf:taskPropertySpecification10
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация мэпперов для класса Задача"@ru ;
  rdfs:label "Mapper property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:startingMapping, v-wf:completedMapping, v-wf:startingExecutorJournalMap, v-wf:completedExecutorJournalMap, v-wf:startingJournalMap, v-wf:completedJournalMap, v-wf:wosResultsMapping ;
  v-ui:maxCardinality "100"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Mapping')"^^xsd:string ;
.
v-wf:taskPropertySpecification11
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация исполнителя для класса Задача"@ru ;
  rdfs:label "Executor property specification for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:taskDecisionForm ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:queryPrefix "('rdfs:subClassOf'=='v-wf:DecisionForm')"^^xsd:string ;
.
v-wf:mappingPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства мэппинг"@ru ;
  rdfs:label "Property specification for Mapping"@en ;
  v-ui:forClass v-wf:Mapping ;
  v-ui:forProperty v-wf:mappingExpression ;
  v-ui:forProperty v-wf:mapToVariable ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
v-wf:variablesPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства переменных"@ru ;
  rdfs:label "Property specification for variables"@en ;
  v-ui:forClass v-wf:VarDefine ;
  v-ui:forProperty v-wf:varDefineName ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
v-wf:executorPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация свойства исполнителей"@ru ;
  rdfs:label "Property specification for executors"@en ;
  v-ui:forClass v-wf:ExecutorDefinition ;
  v-ui:forProperty v-wf:executorExpression ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.

v-wf:TS_Task 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:TaskTemplateAsProperties;
  v-ui:forClass v-wf:Task
.
v-wf:TaskTemplateAsProperties
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Задача"@ru ;
  rdfs:label "Template for Task class"@en ;
  v-ui:forClass v-wf:Task ;
  v-ui:template """
<div>
  <table id="taskTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:NetElement" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('#VClabel').show(); $('#viewVClabel').hide();">
      <td><span about="rdfs:label" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VClabel" data-type="string" property="rdfs:label" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVClabel" about="@" property="rdfs:label"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCcomment').show(); $('#viewVCcomment').hide();">
      <td><span about="rdfs:comment" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCcomment" data-type="string" property="rdfs:comment" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVCcomment" about="@" property="rdfs:comment"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCjoin').show(); $('#viewVCjoin').hide();">
      <td><span about="v-wf:join" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCjoin" rel="v-wf:join" data-type="select" class="fulltext dropdown properties-editor" style="display:none;"></veda-control>
        <div id="viewVCjoin" about="@" rel="v-wf:join" data-template="v-ui:LabelTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCsplit').show(); $('#viewVCsplit').hide();">
      <td><span about="v-wf:split" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCsplit" rel="v-wf:split" data-type="select" class="fulltext dropdown properties-editor" style="display:none;"></veda-control>
        <div id="viewVCsplit" about="@" rel="v-wf:split" data-template="v-ui:LabelTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCdecisionForm').show(); $('.viewVCdecisionForm').hide();">
      <td><span about="v-wf:taskDecisionForm" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:taskDecisionForm" data-type="link" class="VCdecisionForm fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCdecisionForm" rel="v-wf:taskDecisionForm" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div about="@" class="viewVCdecisionForm" about="@" rel="v-wf:taskDecisionForm" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCstartDecisionTransform').show(); $('.viewVCstartDecisionTransform').hide();">
      <td><span about="v-wf:startDecisionTransform" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:startDecisionTransform" data-type="link" class="VCstartDecisionTransform fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCstartDecisionTransform" rel="v-wf:startDecisionTransform" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVCstartDecisionTransform" about="@" rel="v-wf:startDecisionTransform" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCcompleteDecisionTransform').show(); $('.viewVCcompleteDecisionTransform').hide();">
      <td><span about="v-wf:completeDecisionTransform" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:completeDecisionTransform" data-type="link" class="VCcompleteDecisionTransform fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCcompleteDecisionTransform" rel="v-wf:completeDecisionTransform" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div class="viewVCcompleteDecisionTransform" about="@" rel="v-wf:completeDecisionTransform" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCexecutor').show(); $('.viewVCexecutor').hide();">
      <td><span about="v-wf:executor" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:executor" data-type="link" class="VCexecutor fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCexecutor" rel="v-wf:executor" style="display:none;">
          <div>
            #<a href="#/@///edit">
              <span property="v-wf:executorExpression"></span>
              <span property="v-s:script"></span>
              <span rel="v-s:employee" data-template="v-ui:LabelTemplate"></span>
            </a>
          </div>
        </div>
        <div class="viewVCexecutor" about="@" rel="v-wf:executor">
          <div>
            #<a href="#/@///edit">
              <span property="v-wf:executorExpression"></span>
              <span property="v-s:script"></span>
              <span rel="v-s:employee" data-template="v-ui:LabelTemplate"></span>
            </a>
          </div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCexpectedResultType').show(); $('.viewVCexpectedResultType').hide();">
      <td><span about="v-wf:expectedResultType" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:expectedResultType" data-type="link" class="VCexpectedResultType fulltext dropdown properties-editor" style="display:none;"></veda-control>
        <div class="VCexpectedResultType" rel="v-wf:expectedResultType" data-template="v-ui:LabelTemplate" style="display:none;"></div>
        <div class="viewVCexpectedResultType" about="@" rel="v-wf:expectedResultType" data-template="v-ui:LabelTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCinputVariable').show(); $('.viewVCinputVariable').hide();">
      <td><span about="v-wf:inputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inputVariable" data-type="link" class="VCinputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinputVariable" rel="v-wf:inputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div about="@" class="viewVCinputVariable" rel="v-wf:inputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCoutputVariable').show(); $('.viewVCoutputVariable').hide();">
      <td><span about="v-wf:outputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:outputVariable" data-type="link" class="VCoutputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCoutputVariable" rel="v-wf:outputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div about="@" class="viewVCoutputVariable" rel="v-wf:outputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCinputOutputVariable').show(); $('.viewVCinputOutputVariable').hide();">
      <td><span about="v-wf:inputOutputVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inputOutputVariable" data-type="link" class="VCinputOutputVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinputOutputVariable" rel="v-wf:inputOutputVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div about="@" class="viewVCinputOutputVariable" rel="v-wf:inputOutputVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VClocalVariable').show(); javascript: $('.viewVClocalVariable').hide();">
      <td><span about="v-wf:localVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:localVariable" data-type="link" class="VClocalVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VClocalVariable" rel="v-wf:localVariable" data-template="v-ui:LabelTemplateWithEditLink" style="display:none;"></div>
        <div about="@" class="viewVClocalVariable" rel="v-wf:localVariable" data-template="v-ui:LabelTemplateWithEditLink"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCsubNet').show(); $('#viewVCsubNet').hide();">
      <td><span about="v-wf:subNet" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCsubNet" rel="v-wf:subNet" data-type="link" class="fulltext dropdown properties-editor" style="display:none;"></veda-control>
        <div class="VCsubNet" rel="v-wf:subNet" data-template="v-ui:LabelTemplate" style="display:none;"></div>
        <div class="viewVCsubNet" about="@" rel="v-wf:subNet" data-template="v-ui:LabelTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCstartingMapping').show()).show();">
      <td>
        <span about="v-wf:startingMapping" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:startingMapping" data-type="link" class="VCstartingMapping fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:startingMapping">
          <div class="VCstartingMapping">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCcompletedMapping').show()).show();">
      <td>
        <span about="v-wf:completedMapping" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:completedMapping" data-type="link" class="VCcompletedMapping fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:completedMapping">
          <div class="VCcompletedMapping">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCstartingExecutorJournalMap').show()).show();">
      <td>
        <span about="v-wf:startingExecutorJournalMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:startingExecutorJournalMap" data-type="link" class="VCstartingExecutorJournalMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:startingExecutorJournalMap">
          <div class="VCstartingExecutorJournalMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCcompletedExecutorJournalMap').show()).show();">
      <td>
        <span about="v-wf:completedExecutorJournalMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:completedExecutorJournalMap" data-type="link" class="VCcompletedExecutorJournalMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:completedExecutorJournalMap">
          <div class="VCcompletedExecutorJournalMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCstartingJournalMap').show()).show();">
      <td>
        <span about="v-wf:startingJournalMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:startingJournalMap" data-type="link" class="VCstartingJournalMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:startingJournalMap">
          <div class="VCstartingJournalMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCcompletedJournalMap').show()).show();">
      <td>
        <span about="v-wf:completedJournalMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:completedJournalMap" data-type="link" class="VCcompletedJournalMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:completedJournalMap">
          <div class="VCcompletedJournalMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCstartingMessageMap').show()).show();">
      <td>
        <span about="v-wf:startingMessageMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:startingMessageMap" data-type="link" class="VCstartingMessageMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:startingMessageMap">
          <div class="VCstartingMessageMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCcompletedMessageMap').show()).show();">
      <td>
        <span about="v-wf:completedMessageMap" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:completedMessageMap" data-type="link" class="VCcompletedMessageMap fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:completedMessageMap">
          <div class="VCcompletedMap">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr onclick="javascript: $('.button-delete', $('.VCwosResultsMapping').show()).show();">
      <td>
        <span about="v-wf:wosResultsMapping" property="rdfs:label"></span>
      </td>
      <td>
        <veda-control rel="v-wf:wosResultsMapping" data-type="link" class="VCwosResultsMapping fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div about="@" rel="v-wf:wosResultsMapping">
          <div class="VCwosResultsMapping">
            <p>
              #<a href="#/@">
                <span about="@" rel="v-wf:mapToVariable">
                  <span>
                    <span about="@" property="v-wf:varDefineName"></span>
                  </span>
                </span> =
                <span about="@" property="v-wf:mappingExpression"></span>
              </a>
            </p>
          <div>
        </div>
      </td>
    </tr>
    <tr>
      <td about="v-wf:hasFlow" property="rdfs:label"></td>
      <td about="@" rel="v-wf:hasFlow">
        <div>
          <p>
            #<a href="#/@">
              <strong><span about="@" rel="v-wf:flowsInto" data-template="v-ui:LabelTemplate"></span></strong>
              [<span about="@" property="v-wf:predicate"></span>]
            </a>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <td about="v-wf:locationX" property="rdfs:label"></td>
      <td about="@" property="v-wf:locationX"></td>
    </tr>
    <tr>
      <td about="v-wf:locationY" property="rdfs:label"></td>
      <td about="@" property="v-wf:locationY"></td>
    </tr>
  </table>
</div>
<script>
  function joinSplitHandler() {
    var $state = $('#' + veda.Util.escape4$(individual.id));
    $state.removeClass('split-and').removeClass('split-or').removeClass('split-xor');
    $state.removeClass('join-and').removeClass('join-or').removeClass('join-xor');
    $state.addClass(veda.net.getSplitJoinType('join', individual));
    $state.addClass(veda.net.getSplitJoinType('split', individual));
    veda.net.updateSVGBackground($state);
  }
  function labelHandler(values) {
    var $state = $('#' + veda.Util.escape4$(individual.id));
    $('.state-name', $state).html(values);
  }
  individual.on("v-wf:join v-wf:split", joinSplitHandler);
  individual.on("rdfs:label", labelHandler);
  template.one("remove", function () {
    individual.off("v-wf:join v-wf:split", joinSplitHandler);
    individual.off("rdfs:label", labelHandler);
  });

  $('#taskTemplateProperties > tbody > tr > td > span[about]').each(function () {
    if (!individual.hasValue($(this).attr('about'))) {
      $(this).parent().parent().appendTo($('#taskTemplateProperties'));
    }
  });
  //# sourceURL=v-wf:TaskTemplateAsProperties
</script>
  """ ;
  .

v-wf:TS_Condition 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ConditionTemplateAsProperties;
  v-ui:forClass v-wf:Condition
.
v-wf:TS_InputCondition 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ConditionTemplateAsProperties;
  v-ui:forClass v-wf:InputCondition
.
v-wf:TS_OutputCondition 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ConditionTemplateAsProperties;
  v-ui:forClass v-wf:OutputCondition
.
v-wf:ConditionTemplateAsProperties
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Условие"@ru ;
  rdfs:label "Template for Condition class"@en ;
  v-ui:forClass v-wf:Condition, v-wf:InputCondition, v-wf:OutputCondition ;
  v-ui:template """
<div>
  <table id="taskTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:NetElement" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('#VClabel').show(); $('#viewVClabel').hide();">
      <td><span about="rdfs:label" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VClabel" data-type="string" property="rdfs:label" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVClabel" about="@" property="rdfs:label"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCcomment').show(); $('#viewVCcomment').hide();">
      <td><span about="rdfs:comment" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCcomment" data-type="string" property="rdfs:comment" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVCcomment" about="@" property="rdfs:comment"></div>
      </td>
    </tr>
    <tr>
      <td about="v-wf:hasFlow" property="rdfs:label"></td>
      <td about="@" rel="v-wf:hasFlow">
        <div>
          #<a href="#/@">
            <strong><span about="@" rel="v-wf:flowsInto" data-template="v-ui:LabelTemplate"></span></strong>
            [<span about="@" property="v-wf:predicate"></span>]
          </a>
        </div>
      </td>
    </tr>
    <tr>
      <td about="v-wf:locationX" property="rdfs:label"></td>
      <td about="@" property="v-wf:locationX"></td>
    </tr>
    <tr>
      <td about="v-wf:locationY" property="rdfs:label"></td>
      <td about="@" property="v-wf:locationY"></td>
    </tr>
  </table>
</div>
<script>
  function handler (values) {
    var $state = $('#' + veda.Util.escape4$(individual.id));
    $('.state-name', $state).html(values);
  }
  individual.on("rdfs:label", handler);
  template.one("remove", function () {
    individual.off("rdfs:label");
  });
  //# sourceURL=v-wf:ConditionTemplateAsProperties
</script>
  """ ;
  .

v-wf:TS_Flow 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:FlowTemplateAsProperties;
  v-ui:forClass v-wf:Flow
.
v-wf:FlowTemplateAsProperties
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Поток"@ru ;
  rdfs:label "Template for Flow class"@en ;
  v-ui:forClass v-wf:Flow ;
  v-ui:template """
<div>
  <table id="taskTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:Net" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('#VClabel').show(); $('#viewVClabel').hide();">
      <td><span about="rdfs:label" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VClabel" data-type="string" property="rdfs:label" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVClabel" about="@" property="rdfs:label"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCcomment').show(); $('#viewVCcomment').hide();">
        <td><span about="rdfs:comment" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCcomment" data-type="string" property="rdfs:comment" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVCcomment" about="@" property="rdfs:comment"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCpredicate').show().trigger('edit'); $('#viewVCpredicate').hide();">
      <td><span about="v-wf:predicate" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCpredicate" data-type="source" data-mode="javascript" property="v-wf:predicate" class="properties-editor" style="display:none;width:75%"></veda-control>
        <div id="viewVCpredicate" about="@" property="v-wf:predicate"></div>
      </td>
    </tr>
    <tr>
      <td><span about="v-wf:flowsInto" property="rdfs:label"></span></td>
      <td>
        <strong><span about="@" rel="v-wf:flowsInto" data-template="v-ui:LabelTemplate"></span></strong>
      </td>
    </tr>
  </table>
</div>
<script>
  function handler (values) {
    if (veda.net) {
      $.each(veda.net.getAllConnections(), function (idx, connection) {
        if(connection.id === individual.id) {
          var value = (typeof values[0] === "undefined") ? "" : values[0];
          if (connection.getOverlay("flowLabel") == undefined) {
            connection.addOverlay(["Label", { label: value, location:0.5, id: "flowLabel"} ]);
          } else {
            connection.getOverlay("flowLabel").setLabel(value);
          }
        }
      });
    }
  }
  individual.on("rdfs:label", handler);
  template.one("remove", function () {
    individual.off("rdfs:label", handler);
  });
  //# sourceURL=v-wf:FlowTemplateAsProperties
</script>
  """ ;
.

v-wf:varPPropertySpecification1
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства переменных"@ru ;
  rdfs:label "Property specification for variables"@en ;
  v-ui:forClass v-wf:Process ;
  v-ui:forProperty v-wf:localVariable, v-wf:inVars, v-wf:outVars, v-wf:localVars ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Variable')"^^xsd:string ;
.

v-wf:ProcessPropsTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Рабочее задание-"@ru ;
  rdfs:label "Template for Work order class"@en ;
  v-ui:template """
<div>
  <table id="processTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:NetElement" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('.VClocVariable').show(); javascript: $('.viewVClocVariable').hide();">
      <td><span about="v-wf:localVariable" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:localVariable" data-type="link" class="VClocVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VClocVariable" rel="v-wf:localVariable" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVClocVariable" rel="v-wf:localVariable" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCinVariable').show(); javascript: $('.viewVCinVariable').hide();">
      <td><span about="v-wf:inVars" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inVars" data-type="link" class="VCinVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinVariable" rel="v-wf:inVars" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVCinVariable" rel="v-wf:inVars" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCoutVariable').show(); javascript: $('.viewVCoutVariable').hide();">
      <td><span about="v-wf:outVars" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:outVars" data-type="link" class="VCoutVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCoutVariable" rel="v-wf:outVars" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVCoutVariable" rel="v-wf:outVars" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VClocalVariable').show(); javascript: $('.viewVClocalVariable').hide();">
      <td><span about="v-wf:localVars" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:localVars" data-type="link" class="VClocalVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VClocalVariable" rel="v-wf:localVars" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVClocalVariable" rel="v-wf:localVars" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr id="traceJournal">
      <td><em><h5 about="v-wf:traceJournal" property="rdfs:label"></h5></em></td>
      <td><span rel="v-wf:traceJournal" data-template="v-ui:LabelLinkTemplate"></span></td>
    </tr>
  </table>
</div>
<script>
  if (typeof individual !== "undefined") {
    $('#processTemplateProperties > tbody > tr > td > span[about]').each(function () {
      if (!individual.hasValue($(this).attr('about'))) {
        $(this).parent().parent().appendTo($('#workItemTemplateProperties'));
      }
    });
  }
  //# sourceURL=v-wf:ProcessPropsTemplate
</script>
  """
.

v-wf:varWIPropertySpecification1
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства переменных"@ru ;
  rdfs:label "Property specification for variables"@en ;
  v-ui:forClass v-wf:WorkItem ;
  v-ui:forProperty v-wf:inVars, v-wf:outVars ;
  v-ui:queryPrefix "('rdf:type'=='v-wf:Variable')"^^xsd:string ;
.

v-wf:TS_WorkItem
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:WorkItemTemplate;
  v-ui:forClass v-wf:WorkItem
.
v-wf:WorkItemTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса - Рабочий элемент"@ru ;
  rdfs:label "Template for Work order class"@en ;
  v-ui:forClass v-wf:WorkItem ;
  v-ui:template """
<div>
  <table id="workItemTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
      <td style="width:25%"><span about="v-wf:NetElement" property="rdfs:label"></span></td>
      <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('.VCinVariable').show(); javascript: $('.viewVCinVariable').hide();">
      <td><span about="v-wf:inVars" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:inVars" data-type="link" class="VCinVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCinVariable" rel="v-wf:inVars" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVCinVariable" rel="v-wf:inVars" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('.VCoutVariable').show(); javascript: $('.viewVCoutVariable').hide();">
      <td><span about="v-wf:outVars" property="rdfs:label"></span></td>
      <td>
        <veda-control about="@" rel="v-wf:outVars" data-type="link" class="VCoutVariable fulltext dropdown create properties-editor" style="display:none;"></veda-control>
        <div class="VCoutVariable" rel="v-wf:outVars" data-template="v-wf:VariableTemplate" style="display:none;"></div>
        <div about="@" class="viewVCoutVariable" rel="v-wf:outVars" data-template="v-wf:VariableTemplate"></div>
      </td>
    </tr>
    <tr id="workOrderList">
      <td><em><h5 about="v-wf:workOrderList" property="rdfs:label"></h5></em></td>
      <td><span rel="v-wf:workOrderList" data-template="v-wf:WorkOrderTemplate"></span></td>
    </tr>
    <tr id="traceJournal">
      <td><em><h5 about="v-wf:traceJournal" property="rdfs:label"></h5></em></td>
      <td><span rel="v-wf:traceJournal" data-template="v-ui:LabelLinkTemplate"></span></td>
    </tr>
  </table>
</div>
<script>
  if (typeof individual !== "undefined") {
    $('#workItemTemplateProperties > tbody > tr > td > span[about]').each(function () {
      if (!individual.hasValue($(this).attr('about'))) {
        $(this).parent().parent().appendTo($('#workItemTemplateProperties'));
      }
    });
  }
  //# sourceURL=v-wf:WorkItemTemplate
</script>
""" ;
  .

v-wf:TS_Variable 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:VariableTemplate;
  v-ui:forClass v-wf:Variable
.
v-wf:VariableTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Переменная"@ru ;
  rdfs:label "Template for Variable class"@en ;
  v-ui:forClass v-wf:Variable ;
  v-ui:template """
<span>
  <a href="#" class="zoomIn glyphicon glyphicon-zoom-in margin-sm-h"></a>
  <strong><span property="v-wf:variableName"></span> =</strong>
  <ul id="values"></ul>
  <div id="variableScope">
    <em about="v-wf:variableScope" property="rdfs:label"></em>
    <ul><li rel="v-wf:variableScope" data-template="v-ui:ClassNameLabelLinkTemplate"></li></ul>
  </div>
</span>
<script>
  if (!individual.hasValue("v-fw:variableScope")) $("#variableScope", template).remove();
  var valHolder = $("#values", template);
  individual["v-wf:variableValue"].map( function (value) {
    var el = $("<li>");
    if (value instanceof veda.IndividualModel) {
      value.present(el, new veda.IndividualModel("v-ui:ClassNameLabelLinkTemplate"));
    } else {
      el.text(value.toString());
    }
    valHolder.append(el);
  });
  $(".zoomIn.glyphicon-zoom-in", template).click(function(e){
    e.preventDefault();
    riot.route( ["#", individual.id, "/v-ui:ttl"].join("/") );
  })
  //# sourceURL=v-wf:VariableTemplate
</script>
  """ ;
  .

v-wf:TS_WorkOrder
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:WorkOrderTemplate;
  v-ui:forClass v-wf:WorkOrder
.
v-wf:WorkOrderTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Рабочее задание"@ru ;
  rdfs:label "Template for Work Order"@en ;
  v-ui:forClass v-wf:WorkOrder ;
  v-ui:template """
<div>
  <strong>
    <button id="repeat-workOrder" type="button" class="btn btn-sm margin-sm-h btn-default">
      <span>repeat</span>
    </button>
    <span about="@" property="@"></span>
    <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a>
  </strong>
  <div id="executor">
    <em about="v-wf:executor" property="rdfs:label"></em>
    <ul><li rel="v-wf:executor" data-template="v-ui:ClassNameLabelLinkTemplate"></li></ul>
  </div>
  <div id="decisionFormList">
    <em about="v-wf:decisionFormList" property="rdfs:label"></em>
    <ul><li rel="v-wf:decisionFormList" data-template="v-ui:ClassNameLabelLinkTemplate"></li></ul>
  </div>
  <div id="outVars">
    <em about="v-wf:outVars" property="rdfs:label"></em>
    <ul><li rel="v-wf:outVars" data-template="v-wf:VariableTemplate"></li></ul>
  </div>
  <div id="isProcess">
    <em about="v-wf:isProcess" property="rdfs:label"></em>
    <ul><li rel="v-wf:isProcess" data-template="v-ui:ClassNameLabelLinkTemplate"></li></ul>
  </div>
  <div id="traceJournal">
    <em><h5 about="v-wf:traceJournal" property="rdfs:label"></h5></em>
    <span rel="v-wf:traceJournal" data-template="v-ui:LabelLinkTemplate"></span>
    <hr>
  </div>
  <br/>
</div>
<script>
  if (
    veda.appointment.id === "cfg:AdministratorAppointment"
    && individual.hasValue("v-wf:forWorkItem")
    && individual["v-wf:forWorkItem"][0].hasValue("v-wf:isCompleted", true)
  ) {
    $("#repeat-workOrder", template).click(function () {
      individual["v-wf:enforceProcessing"] = [ true ];
      individual.save();
    });
  } else {
    $("#repeat-workOrder", template).remove();
  }
  if (!individual.hasValue("v-wf:decisionFormList")) $("#decisionFormList", template).remove();
  if (!individual.hasValue("v-wf:executor")) $("#executor", template).remove();
  if (!individual.hasValue("v-wf:outVars")) $("#outVars", template).remove();
  if (!individual.hasValue("v-wf:isProcess")) $("#isProcess", template).remove();
  if (!individual.hasValue("v-wf:traceJournal")) $("#traceJournal", template).remove();
  //# sourceURL=v-wf:WorkOrderTemplate
</script>
  """ ;
.

v-wf:TS_DecisionForm
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:DecisionFormTemplate;
  v-ui:forClass v-wf:DecisionForm
.
v-wf:DecisionFormTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Форма решения"@ru ;
  rdfs:label "Template for Decision form class"@en ;
  rdfs:comment "Пустой шаблон сделан специально, поскольку индивиды этого класса не должны вводиться пользователями"@ru ;
  v-ui:forClass v-wf:DecisionForm ;
  v-ui:template """
<div class="hidden"></div>
<script>
  individual.canUpdate().then(function (canUpdate) {
    if ( canUpdate && !individual.hasValue("v-wf:read", true) ) {
      return veda.Backend.set_in_individual({
        ticket: veda.ticket,
        individual: {
          "@": individual.id,
          "v-wf:read": [{
            data: true,
            type: "Boolean"
          }]
        }
      });
    }
  });
  //# sourceURL=v-wf:DecisionFormTemplate
</script>
  """ ;
.

#---------------------------- Decision Form ------------------------

v-wf:DecisionForm
  rdf:type rdfs:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:subClassOf v-s:UserThing ;
  rdfs:label "Форма решения"@ru ;
  rdfs:label "Decision form"@en ;
.

v-wf:onWorkOrder
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "По рабочему заданию"@ru ;
  rdfs:label "On work order"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range v-s:WorkOrder ;
.

v-wf:takenDecision
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Решение"@ru ;
  rdfs:label "Decision"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-s:JournalRecord ;
  rdfs:range rdfs:Resource ;
.

v-wf:possibleDecisionClass
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Варианты решения"@ru ;
  rdfs:label "Possible decision"@ru ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-df:ApprovalTask ;
  rdfs:range owl:Class ;
.

v-wf:onDocument
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "По документу"@ru ;
  rdfs:label "For document"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range rdfs:Resource ;
.

v-wf:from
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "От кого"@ru ;
  rdfs:label "From"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-s:Deliverable ;
  rdfs:range v-s:Appointment ;
.

v-wf:redirect_from_task
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Перенаправлено из задачи"@ru ;
  rdfs:label "Redirect from task"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range v-wf:DecisionForm ;
.

v-wf:to
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Кому"@ru ;
  rdfs:label "To"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-wf:Decision ;
  rdfs:domain v-s:JournalRecord ;
  rdfs:domain v-s:Deliverable ;
  rdfs:range v-s:Appointment ;
.

v-wf:replyTo
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Reply to" ;
  rdfs:domain v-s:Deliverable ;
  rdfs:range v-s:Appointment ;
.

v-wf:dateGiven
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Срок"@ru ;
  rdfs:label "Due date"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range xsd:dateTime ;
.

v-wf:read
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Прочитано"@ru ;
  rdfs:label "Read"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range xsd:boolean ;
.

v-wf:hasChildTask
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Есть дочерняя задача"@ru ;
  rdfs:label "Has child task"@en ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range v-wf:StartForm ;
.

v-wf:hasParentTask
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Есть родительская задача"@ru ;
  rdfs:label "Has parent task"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range v-wf:DecisionForm ;
.

# --------------------------- Start Form ---------------------------
v-wf:StartForm
  rdf:type owl:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Стартовая форма"@ru ;
  rdfs:label "Start form"@en ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:subClassOf v-s:Controlled ;
  rdfs:subClassOf v-s:Temporal ;
.

v-wf:StartForm_canEdit
  rdf:type rdf:Property ;
  rdfs:label "Разрешить редактировать"@ru ;
  rdfs:label "Permission to edit"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range xsd:boolean ;
  rdfs:isDefinedBy v-wf: ;
.

v-wf:PsStartForm_canEdit
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-wf:StartForm ;
  v-ui:forProperty v-wf:StartForm_canEdit ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 1 ;
  v-ui:defaultValue "false"^^xsd:boolean ;
  rdfs:label "Спецификация для свойства разрешения редактирования класса StartForm"@ru ;
  rdfs:label "Permission to edit specification for StartForm class"@en ;
.

v-wf:StartForm_setStatus
  rdf:type rdf:Property ;
  rdfs:label "Устанавливать статус"@ru ;
  rdfs:label "Set status"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range xsd:boolean ;
  rdfs:isDefinedBy v-wf: ;
.
v-wf:PsStartForm_setStatus
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-wf:StartForm ;
  v-ui:forProperty v-wf:StartForm_setStatus ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 1 ;
  v-ui:defaultValue "false"^^xsd:boolean ;
  rdfs:label "Спецификация для свойства v-wf:StartForm_setStatus"@ru ;
  rdfs:label "Permission to edit specification for v-wf:StartForm_setStatus"@en ;
.

v-wf:permission_on_start_from
  rdf:type v-s:PermissionStatement ;
  v-s:canCreate "true"^^xsd:boolean ;
  v-s:permissionObject v-wf:StartForm ;
  v-s:permissionSubject cfg:AllUsersGroup ;
.

v-wf:processedDocument
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Документ"@ru ;
  rdfs:label "Document"@en ;
  rdfs:range v-s:Thing ;
  rdfs:domain v-wf:StartForm ;
  rdfs:domain v-df:QuestionRouteStartForm ;
  rdfs:domain v-df:InstructionRouteStartForm ;
  rdfs:domain v-df:TaskRouteStartForm ;
  rdfs:domain v-df:DistributionRouteStartForm ;
  rdfs:domain v-df:CoordinationRouteStartForm ;
  rdfs:domain v-df:SignRouteStartForm;
  rdfs:domain v-df:ConfirmationRouteStartForm ;
.

#-- используется только в тестовом комплексном маршруте --
v-wf:processInitiator
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Инициатор процесса"@ru ;
  rdfs:label "Process initiator"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range v-s:Appointment ;
.

v-wf:forNet
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Для сети..."@ru ;
  rdfs:label "For net..."@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range v-wf:Net ;
.

v-wf:useTransformation
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Использовать преобразование"@ru ;
  rdfs:label "Use transformation"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range v-wf:Transform ;
.

v-wf:fromShedulerScript
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запускается из скрипта по расписанию"@ru ;
  rdfs:label "Run from sheduler script"@en ;
  rdfs:domain v-wf:StartForm ;
  rdfs:range xsd:boolean ;
.

# --------------------------- Mapping to variable ---------------------------

v-wf:Mapping
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Преобразование"@ru ;
  rdfs:label "Mapping"@en ;
.
v-wf:mappingExpression
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение преобразования"@ru ;
  rdfs:label "Mapping expression"@en ;
  rdfs:domain v-wf:Mapping ;
  rdfs:range xsd:string ;
.
v-wf:mapToVariable
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Преобразуется в переменную"@ru ;
  rdfs:label "Maps to variable"@en ;
  rdfs:domain v-wf:Mapping ;
  rdfs:range v-wf:VarDefine ;
.

# --------------------------- Transformation ---------------------------

v-wf:Transform
  rdf:type rdfs:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Трансформация"@ru ;
  rdfs:label "Transformation"@en ;
.

v-wf:transformRule
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Правило преобразования"@ru ;
  rdfs:domain v-wf:Transform ;
  rdfs:range v-wf:Rule ;
.

v-wf:Rule
  rdf:type rdfs:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Правило"@ru ;
  v-ui:hasTemplate v-wf:RuleTemplate ;
.

v-wf:segregateObject
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для выделения подмножества обьектов"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.
v-wf:segregateElement
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для выделения подмножества элементов"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.
v-wf:conversion
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для преобразования элемента"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.

v-wf:create
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для создания обьекта"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.

v-wf:aggregate
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для размещения элемента в обьекте"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.

v-wf:grouping
  rdf:type owl:DatatypeProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выражение для группировки созданных обьектов"@ru ;
  rdfs:domain v-wf:Rule ;
  rdfs:range xsd:string ;
.

# --------------------------- Process ---------------------------
v-wf:Process
  rdf:type rdfs:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Процесс"@ru ;
  rdfs:label "Process"@en ;
.

v-wf:instanceOf
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Процесс сети..."@ru ;
  rdfs:label "Instance of..."@en ;
  rdfs:domain v-wf:Process ;
  rdfs:range v-wf:Net ;
.
v-wf:inVars
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Входные переменные"@ru ;
  rdfs:label "Input variables"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:Variable ;
.
v-wf:hasStartForm
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Стартовая форма"@ru ;
  rdfs:label "Start form"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:range rdfs:Resource ;
.
v-wf:localVars
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Локальные переменные"@ru ;
  rdfs:label "Local variables"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:Variable ;
.

v-wf:outVars
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выходные переменные"@ru ;
  rdfs:label "Output variables"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:range v-wf:Variable ;
.

v-wf:parentWorkOrder
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Связанное рабочее задание"@ru ;
  rdfs:label "Related work order"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:range v-wf:WorkOrder ;
.

# --------------------------- WorkItem ---------------------------
v-wf:WorkItem
  rdf:type rdfs:Class ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выполняемая задача"@ru ;
  rdfs:label "Work item"@en ;
.

v-wf:forProcess
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Относится к процессу"@ru ;
  rdfs:label "For process"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:Process ;
.

v-wf:forNetElement
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Относится к элементу сети"@ru ;
  rdfs:label "For net element"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:NetElement ;
.

v-wf:workOrderList
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Список заданий для исполнителей"@ru ;
  rdfs:label "List task for executor"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:WorkOrder ;
.

v-wf:workItemList
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Список порожденных заданий"@ru ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:Process ;
  rdfs:range v-wf:WorkItem ;
.

v-wf:previousWorkItem
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Предыдущая выполняемая задача"@ru ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:range v-wf:WorkItem ;
.

v-wf:isCompleted
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Завершено"@ru ;
  rdfs:label "Is completed"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range xsd:boolean ;
.

v-wf:isStopped
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Остановлено"@ru ;
  rdfs:label "Is stopped"@en ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range xsd:boolean ;
.

v-wf:isDirectTask
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Прямая задача"@ru ;
  rdfs:label "Is direct task"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range xsd:boolean ;
.
v-wf:isSetStatus
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Задача, меняющая статус"@ru ;
  rdfs:label "Task changed status"@en ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:Process ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:range xsd:boolean ;
.


# --------------------------- WorkOrder --------------------------
v-wf:WorkOrder
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Рабочее задание"@ru ;
  rdfs:label "Work order"@en ;
.

v-wf:forWorkItem
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Относится к выполняемой задаче"@ru ;
  rdfs:label "For work item"@en ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:range v-wf:WorkItem ;
.

v-wf:useSubNet
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Использовать подсеть"@ru ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:range v-wf:Net ;
.

v-wf:decisionFormList
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Список порожденных пользовательских форм"@ru ;
  rdfs:domain v-wf:WorkOrder ;
.
# --------------------------- обработка событий => docflow ---------------------------------------
v-wf:event_df1
  rdf:type v-s:Event ;
  rdfs:isDefinedBy v-wf: ;
  v-s:author cfg:VedaSystemAppointment ;
  v-s:triggerByType v-wf:StartForm ;
  v-s:dependency cfg:Event_3 ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */

var toBeSent = veda.Util.hasValue(document, 'v-wf:hasStatusWorkflow', {data: 'v-wf:ToBeSent', type: "Uri"});
var fromShedulerScript = veda.Util.hasValue(document, 'v-wf:fromShedulerScript', {data: true, type: "Boolean"});
if ( (!parent_script_id || fromShedulerScript) && toBeSent) {
  veda.Workflow.prepare_start_form (ticket, document);
}
""" ;
  rdfs:label "Триггер запуска маршрута из пользовательской формы"@ru ;
.

v-wf:event_df2
  rdf:type v-s:Event ;
  rdfs:isDefinedBy v-wf: ;
  v-s:author cfg:VedaSystemAppointment ;
  v-s:triggerByType v-wf:Process ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */

//print("Event df2: parent_document_id=", parent_document_id, ", parent_script_id=", parent_script_id, ", _event_id=", _event_id );
var deleted = veda.Util.hasValue(document, 'v-s:deleted', {data: true, type: "Boolean"}),
    stopped = veda.Util.hasValue(document, 'v-wf:isStopped', {data: true, type: "Boolean"}),
    triggeredByWf = parent_script_id === 'v-wf:event_df1' || parent_script_id === 'v-wf:event_df2' || parent_script_id === 'v-wf:event_df3' || parent_script_id === 'v-wf:event_df4' || parent_script_id === 'v-wf:event_df5';

if ( !deleted && !stopped && triggeredByWf ) {
  veda.Workflow.prepare_process (ticket, document);
}
  """ ;
  rdfs:label "Триггер выполнения маршрута"@ru ;
.

v-wf:event_df3
  rdf:type v-s:Event ;
  rdfs:isDefinedBy v-wf: ;
  v-s:author cfg:VedaSystemAppointment ;
  v-s:triggerByType v-wf:WorkItem ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */

//print("Event df3: parent_document_id=", parent_document_id, ", parent_script_id=", parent_script_id, ", _event_id=", _event_id );
var deleted = veda.Util.hasValue(document, 'v-s:deleted', {data: true, type: "Boolean"}),
    triggeredByWf = parent_script_id === 'v-wf:event_df1' || parent_script_id === 'v-wf:event_df2' || parent_script_id === 'v-wf:event_df3' || parent_script_id === 'v-wf:event_df4' ;

if ( !deleted && triggeredByWf ) {
  veda.Workflow.prepare_work_item (ticket, document);
}

""" ;
  rdfs:label "Триггер выполнения элемента сети"@ru ;
.

v-wf:event_df4
  rdf:type v-s:Event ;
  rdfs:isDefinedBy v-wf: ;
  v-s:author cfg:VedaSystemAppointment ;
  v-s:triggerByType v-wf:WorkOrder ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */

var deleted = veda.Util.hasValue(document, 'v-s:deleted', {data: true, type: "Boolean"}),
    enforce_processing = veda.Util.hasValue(document, 'v-wf:enforceProcessing', {data: true, type: "Boolean"}),
    triggeredByWf = parent_script_id === 'v-wf:event_df1' || parent_script_id === 'v-wf:event_df2' || parent_script_id === 'v-wf:event_df3' || parent_script_id === 'v-wf:event_df4' || parent_script_id === 'v-wf:event_df5';
print("################");
print("Event df4: parent_document_id=", parent_document_id, ", parent_script_id=", parent_script_id, ", _event_id=", _event_id );
if ( enforce_processing || triggeredByWf && !deleted ) {
  veda.Workflow.prepare_work_order (ticket, document);
}
  """ ;
  rdfs:label "Триггер выполнения рабочего задания"@ru ;
.

v-wf:event_df5
  rdf:type v-s:Event ;
  rdfs:isDefinedBy v-wf: ;
  v-s:author cfg:VedaSystemAppointment ;
  v-s:triggerByType v-wf:DecisionForm ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */

var deleted = veda.Util.hasValue(document, 'v-s:deleted', {data: true, type: "Boolean"});

if ( !deleted ) {
  veda.Workflow.prepare_decision_form (ticket, document, prev_state);
}
""" ;
  rdfs:label "Триггер обработки решения пользователя"@ru ;
.

v-wf:ProcessStopEvent
  rdf:type v-s:Event ;
  v-s:author cfg:VedaSystemAppointment ;
  rdfs:label "Скрипт включает процесс в группу журнала документа." ;
  rdfs:comment "Скрипт включает процесс в группу журнала документа." ;
  v-s:triggerByType v-wf:Process ;
  v-s:runAt "V8.LowPriority" ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = previous state of the captured document
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 * super_classes = super classes of the document.
 */
  if (document['v-wf:isStopped'] &&
      document['v-wf:isStopped'][0].data == true &&
      !prev_state['v-wf:isStopped']) {
    // Disable all active tasks
    veda.Util.recursiveCall(document, {}, ticket, _event_id);
    // Add journal record to process

    var pb = get_individual(ticket, 'v-wf:ProcessStopped');

    var journal_record = veda.Util.newJournalRecord(document['@']+'j');

      journal_record['rdf:type'] = [
      {
          data: 'v-wf:ProcessStopped',
          type: "Uri"
      }];
        journal_record['v-s:actor'] = [
        {
            data: user_uri,
            type: "Uri"
        }];
      journal_record['rdfs:label'] = pb['rdfs:label'];
      journal_record['rdfs:comment'] = pb['rdfs:label'];

      veda.Util.logToJournal(ticket, document['@']+'j', journal_record, true);
      veda.Codelet.interrupt_process(ticket, document, _event_id);
  }
""" ;
.

v-wf:Decision
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:Exportable ;
  rdfs:subClassOf v-s:BackwardLink ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Решение"@ru ;
  rdfs:label "Decision"@en ;
.

v-wf:startingJournalMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Начальное преобразование для журнала"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:completedJournalMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Конечное преобразование для журнала"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:startingMessageMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Начальное преобразование для отправки сообщений"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:completedMessageMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Конечное преобразование для отправки сообщений"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:startingExecutorJournalMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Начальное преобразование данных исполнителя для журнала"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.

v-wf:completedExecutorJournalMap
  rdf:type rdf:Property ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Конечное преобразование данных исполнителя для журнала"@ru ;
  rdfs:domain v-wf:Task ;
  rdfs:range v-wf:Mapping ;
.
v-wf:onProcess
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:domain v-s:JournalRecord, v-s:Journal, v-s:ProcessStarted ;
  rdfs:label "К процессу"@ru ;
  rdfs:label "On process"@en ;
  rdfs:range v-wf:Process ;
.

v-wf:initiator
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:domain v-wf:ProcessStarted, v-wf:SubProcessStarted ;
  rdfs:label "Инициатор"@ru ;
  rdfs:label "Initiator"@en ;
  rdfs:range v-s:Appointment ;
.

v-wf:executor
  rdfs:domain v-wf:TaskGiven, v-wf:TaskCompleted ;
.

v-wf:isProcess
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запущен процесс"@ru ;
  rdfs:label "Started process"@en ;
  rdfs:domain v-s:Thing ;
  rdfs:range v-wf:Process ;
.
v-wf:hasStatusWorkflow
  rdf:type owl:ObjectProperty ;
  rdfs:label "Статус документооборота"@ru ;
  rdfs:label "Status workflow"@en ;
  rdfs:range v-wf:StatusWorkflow ;
  rdfs:domain v-s:Thing ;
.
v-wf:ProcessStarted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запущен процесс"@ru ;
  rdfs:label "Process was started"@en ;
.

v-wf:ProcessStopped
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Процесс прерван"@ru ;
  rdfs:label "Process was stopped"@en ;
.

v-wf:SubProcessStarted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запущен подпроцесс"@ru ;
  rdfs:label "Subprocess started"@en ;
.

v-wf:WorkItemStarted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запущен блок"@ru ;
  rdfs:label "Item was started"@en ;
.

v-wf:DecisionFormStarted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Decision Form Started"@en ;
.

v-wf:WorkOrderStarted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Запущено действие"@ru ;
  rdfs:label "Order was started"@en ;
.

v-wf:ProcessCompleted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Завершен процесс"@ru ;
  rdfs:label "Process completed"@en ;
.

v-wf:TaskGiven
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выдана задача"@ru ;
  rdfs:label "Task given"@en ;
.
v-wf:TaskCompleted
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Задача выполнена"@ru ;
  rdfs:label "Task completed"@en ;
.
v-wf:TraceRecord
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:JournalRecord ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Trace Record"@en ;
.

v-wf:WorkflowReadUser
  rdf:type v-s:Group ;
  rdfs:label "Пользователи имеющие право на чтение обьектов workflow"@ru ;
  rdfs:label "Workflow Read User"@en ;
.

v-wf:traceJournal
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:domain v-wf:DecisionForm ;
  rdfs:domain v-wf:WorkItem ;
  rdfs:domain v-wf:WorkOrder ;
  rdfs:domain v-wf:Process ;
  rdfs:label "Системный журнал"@ru ;
  rdfs:range v-s:Journal ;
.


#################################################################################### JOURNAL UI
v-wf:TS_TaskGiven
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:TaskGivenTemplate;
  v-ui:forClass v-wf:TaskGiven
.
v-wf:TaskGivenTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон события по задаче"@ru ;
  rdfs:label "Task event template"@en ;
  v-ui:forClass v-wf:TaskGiven ;
  v-ui:template """
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <span about="@" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <strong about="@" property="rdfs:label"></strong>
      <div>
        <i about="@" property="rdfs:comment"></i>
      </div>
      <span about="@" rel="v-wf:executor" data-template="v-ui:LabelTemplate"></span>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
</div>
  """ ;
.

v-wf:TS_TaskCompleted 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:TaskCompletedTemplate;
  v-ui:forClass v-wf:TaskCompleted
.
v-wf:TaskCompletedTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон события по задаче"@ru ;
  rdfs:label "Task event template"@en ;
  v-ui:forClass v-wf:TaskCompleted ;
  v-ui:template """
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <span about="@" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <div id="decision" about="@" rel="v-wf:takenDecision">
        <div>
          <strong about="@" property="rdfs:label"></strong>
          <span about="@" rel="v-wf:to">
            <span>
              <span>&rarr;</span>
              <span about="@" data-template="v-ui:LabelTemplate"></span>
            </span>
          </span>
          <div>
            <i about="@" property="rdfs:comment"></i>
          </div>
          <div about="@" rel="v-s:creator" data-template="v-ui:LabelTemplate"></div>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
</div>
  """ ;
.

v-wf:TS_ProcessStarted
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ProcessEventTemplate;
  v-ui:forClass v-wf:ProcessStarted
.
v-wf:TS_ProcessStopped
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ProcessEventTemplate;
  v-ui:forClass v-wf:ProcessStopped
.
v-wf:TS_ProcessCompleted 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:ProcessEventTemplate;
  v-ui:forClass v-wf:ProcessCompleted
.
v-wf:ProcessEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон события процесса"@ru ;
  rdfs:label "Process event template"@en ;
  v-ui:forClass v-wf:ProcessStarted, v-wf:ProcessCompleted ;
  v-ui:template """
<script>
  if (!individual.hasValue("v-wf:initiator")) { $("#initiator", template).remove(); }
  //# sourceURL=v-ui:ProcessEventTemplate
</script>
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <strong rel="rdf:type" data-template="v-ui:LabelTemplate"></strong>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <div property="rdfs:label"></div>
        <span id="initiator">
          <span about="v-wf:initiator" property="rdfs:label"></span>:
        <em rel="v-wf:initiator" data-template="v-ui:LabelTemplate"></em>
      </span>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
</div>
  """ ;
.

v-wf:TS_SubProcessStarted
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:SubProcessStartedEventTemplate;
  v-ui:forClass v-wf:SubProcessStarted
.
v-wf:SubProcessStartedEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон события запуска подпроцесса"@ru ;
  rdfs:label "Subprocess start event template"@en ;
  v-ui:forClass v-wf:SubProcessStarted ;
  v-ui:template """
 <div class="journal-record" rel="v-s:subJournal" data-template="v-ui:SubJournalTemplate"></div>
  """ ;
.

v-wf:TS_WorkItemStarted
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:WorkItemStartedEventTemplate;
  v-ui:forClass v-wf:WorkItemStarted
.
v-wf:WorkItemStartedEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон обработки work item"@ru ;
  v-ui:forClass v-wf:WorkItemStarted ;
  v-ui:template """
<script>
  $("#exp", template).click(function (e) {
    e.preventDefault();
    $("div[rel='v-s:subJournal']", template).toggle();
    $(this).children(":first").toggleClass("glyphicon-chevron-down glyphicon-chevron-right");
  });
  //# sourceURL=v-ui:WorkItemStartedEventTemplate
</script>
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <a id="exp" href="#"><span class="glyphicon glyphicon-chevron-down"></span></a>
      <span about="@" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <span about="@" property="rdfs:label"></span>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
  <div about="@" rel="v-s:subJournal" data-template="v-ui:SubJournalTemplate"></div>
</div>
  """ ;
.

v-wf:TS_WorkOrderStarted 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:WorkOrderStartedEventTemplate;
  v-ui:forClass v-wf:WorkOrderStarted
.
v-wf:WorkOrderStartedEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон обработки work item"@ru ;
  v-ui:forClass v-wf:WorkOrderStarted ;
  v-ui:template """
  <div class="journal-record" rel="v-s:subJournal" data-template="v-ui:SubJournalTemplate"></div>
  """ ;
.

v-wf:TS_DecisionFormStarted 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:DecisionFormStartedEventTemplate;
  v-ui:forClass v-wf:DecisionFormStarted
.
v-wf:DecisionFormStartedEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон обработки work item"@ru ;
  v-ui:forClass v-wf:DecisionFormStarted ;
  v-ui:template """
<script>
  if (!individual.hasValue("v-wf:initiator")) { $("#initiator", template).remove(); }
  $("#exp", template).click(function (e) {
    e.preventDefault();
    $("div[rel='v-s:subJournal']", template).toggle();
    $(this).children(":first").toggleClass("glyphicon-chevron-down glyphicon-chevron-right");
  });
  //# sourceURL=v-ui:DecisionFormStartedEventTemplate
</script>
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <a id="exp" href="#"><span class="glyphicon glyphicon-chevron-down"></span></a>
      <strong rel="rdf:type" data-template="v-ui:LabelTemplate"></strong>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <div property="rdfs:label"></div>
      <span id="initiator">
        <span about="v-wf:initiator" property="rdfs:label"></span>:
        <em rel="v-wf:initiator" data-template="v-ui:LabelTemplate"></em>
      </span>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
  <div rel="v-s:subJournal" data-template="v-ui:SubJournalTemplate"></div>
</div>
  """ ;
.

v-wf:TS_TraceRecord 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:TraceRecordTemplate;
  v-ui:forClass v-wf:TraceRecord
.
v-wf:TraceRecordTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Trace event template"@en ;
  v-ui:forClass v-wf:TraceRecord;
  v-ui:template """
<div class="journal-record">
  <style>
    pre {font-size:10px;}
  </style>
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <span property="rdfs:label"></span>
    </div>
    <div class="col-md-7 col-sm-6 event-desc">
      <pre property="rdfs:comment"></pre>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span about="@" property="v-s:created"></span>
    </div>
  </div>
</div>
<script>
  var pre = $("pre", template),
      txt = pre.text(),
      re = new RegExp('"([\\w-]+:[\\w-]+)"','g'),
      txt2 = txt.replace(re, "<a href='#/$1'>'$1'</a>");
  pre.html(txt2);
  //# sourceURL=v-ui:TraceEventTemplate
</script>
  """ ;
.


v-wf:StatusWorkflow
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:UserThing ;
  rdfs:label "Статус документооборота"@ru ;
  rdfs:label "StatusWorkflow"@en ;
.

v-wf:ToBeSent
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "Ожидает отправки"@ru ;
  rdfs:label "To be sent"@en ;
  v-s:tag "warning";
.

v-wf:IsSent
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "Отправлено"@ru ;
  rdfs:label "Is sent"@en ;
  v-s:tag "info";
.

v-wf:Interrupted
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "Прервано"@ru ;
  rdfs:label "Is interrupted"@en ;
  v-s:tag "danger";
.

v-wf:Completed
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "Выполнено"@ru ;
  rdfs:label "Was completed"@en ;
  v-s:tag "success";
.

v-wf:InReworking
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "На доработке"@ru ;
  rdfs:label "In reworking"@en ;
  v-s:tag "warning";
.

v-wf:InProcess
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "В процессе"@ru ;
  rdfs:label "In process"@en ;
  v-s:tag "info";
.

v-wf:DoNotSend
  rdf:type v-wf:StatusWorkflow ;
  rdfs:label "Не отправлять"@ru ;
  rdfs:label "Do Not Send"@en ;
  v-s:tag "info";
.

v-wf:TaskTemplateAsModal
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Задача (модальное окно)"@ru ;
  rdfs:label "Template for Task class (modal window)"@en ;
  v-ui:template """
<div>
  <strong><span about="@" property="@"></span></strong>
<!-- LABEL & POSITION -->
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-8">
      <h4 about="rdfs:label" property="rdfs:label"></h4>
      <veda-control data-type="string" property="rdfs:label"></veda-control>
    </div>
    <div class="col-md-2">
      <strong><span about="v-wf:locationX" property="rdfs:label"></span></strong> :
      <veda-control property="v-wf:locationX" data-type="integer"></veda-control>
    </div>
    <div class="col-md-2">
      <strong><span about="v-wf:locationY" property="rdfs:label"></span></strong> :
      <veda-control property="v-wf:locationY" data-type="integer"></veda-control>
    </div>
  </div>
<!-- SUBNET -->
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3">
      <h4 about="v-wf:subNet" property="rdfs:label"></h4>
    </div>
    <div class="col-md-9">
      <veda-control data-type="link" rel="v-wf:subNet" class="fulltext dropdown"></veda-control>
    </div>
  </div>
<!-- FLOWS & SPLIT/JOIN -->
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-10">
      <h4 about="v-wf:hasFlow" property="rdfs:label"></h4>
      <div rel="v-wf:hasFlow" data-template="v-wf:FlowTemplateEmbedded" data-embedded="true"></div>
      <veda-control data-type="link" rel="v-wf:hasFlow" class="-view edit search -create"></veda-control>
    </div>
    <div class="col-md-2">
      <div>
        <h4 about="v-wf:join" property="rdfs:label"></h4>
        <veda-control rel="v-wf:join" data-type="select" class="fulltext dropdown"></veda-control>
      </div>
      <div>
        <h4 about="v-wf:split" property="rdfs:label"></h4>
          <veda-control rel="v-wf:split" data-type="select" class="fulltext dropdown"></veda-control>
      </div>
    </div>
  </div>
<!-- EXECUTOR -->
  <hr class="margin-sm">
  <h4 about="v-wf:executor" property="rdfs:label"></h4>
  <div about="@" rel="v-wf:executor" data-template="v-wf:ExecutorTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:executor" class="-view edit search create"></veda-control>
<!-- DECISIONS MAPPING -->
  <hr class="margin-sm">
  <h4 about="v-wf:startDecisionTransform" property="rdfs:label"></h4>
  <div rel="v-wf:startDecisionTransform" data-template="v-wf:TransformTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:startDecisionTransform" class="-view edit search create"></veda-control>

  <h4 about="v-wf:completeDecisionTransform" property="rdfs:label"></h4>
  <div rel="v-wf:completeDecisionTransform" data-template="v-wf:TransformTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:completeDecisionTransform" class="-view edit search create"></veda-control>
<!-- VARIABLES MAPPING -->
  <hr class="margin-sm">
  <h4 about="v-wf:startingMapping" property="rdfs:label"></h4>
  <div rel="v-wf:startingMapping" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:startingMapping" class="-view edit search create"></veda-control>

  <h4 about="v-wf:completedMapping" property="rdfs:label"></h4>
  <div rel="v-wf:completedMapping" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:completedMapping" class="-view edit search create"></veda-control>
<!-- EXECUTOR JOURNAL MAPPING -->
  <hr class="margin-sm">
  <h4 about="v-wf:startingExecutorJournalMap" property="rdfs:label"></h4>
  <div rel="v-wf:startingExecutorJournalMap" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:startingExecutorJournalMap" class="-view edit search create"></veda-control>

  <h4 about="v-wf:completedExecutorJournalMap" property="rdfs:label"></h4>
  <div rel="v-wf:completedExecutorJournalMap" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:completedExecutorJournalMap" class="-view edit search create"></veda-control>
<!-- JOURNAL MAPPING -->
  <hr class="margin-sm">
  <h4 about="v-wf:startingJournalMap" property="rdfs:label"></h4>
  <div rel="v-wf:startingJournalMap" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:startingJournalMap" class="-view edit search create"></veda-control>

  <h4 about="v-wf:completedJournalMap" property="rdfs:label"></h4>
  <div rel="v-wf:completedJournalMap" data-template="v-wf:MappingTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:completedJournalMap" class="-view edit search create"></veda-control>
<!-- EXPECTED RESULT TYPE & MAPPING -->
  <hr class="margin-sm">
  <h4 about="v-wf:expectedResultType" property="rdfs:label"></h4>
  <veda-control about="@" rel="v-wf:expectedResultType" data-type="link" class="fulltext dropdown"></veda-control>
<!--
  <veda-control rel="v-wf:expectedResultType" data-type="select" class="fulltext dropdown"></veda-control>
  <div about="@" rel="v-wf:expectedResultType" data-template="v-ui:LabelTemplate" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:expectedResultType" class="-view edit search create"></veda-control>
-->

  <h4 about="v-wf:wosResultsMapping" property="rdfs:label"></h4>
  <div about="@" rel="v-wf:wosResultsMapping" data-template="v-wf:TransformTemplateEmbedded" data-embedded="true"></div>
  <veda-control data-type="link" rel="v-wf:wosResultsMapping" class="-view edit search create"></veda-control>
<!-- COMMENT -->
  <hr class="margin-sm">
  <h4 about="rdfs:comment" property="rdfs:label"></h4>
  <veda-control data-type="string" property="rdfs:comment"></veda-control>
<!-- BUTTONS -->
  <hr class="margin-sm">
  <div class="actions">
    <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="save cancel"></span>
  </div>
</div>
<script>
  $("#cancel, #save", template).click(function () {
    var modal = template.closest(".modal");
    if (modal.length) {
      modal.modal("hide");
    } else {
      window.history.back();
    }
  });
</script>
  """ ;
.

v-wf:ExecutorTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Транфсформация (встроенный шаблон)"@ru ;
  rdfs:label "Template for Transform class (embedded template)"@en ;
  v-ui:template """
<div>
  <div class="row">
    <div class="col-md-4">
      <input id="executordefinition" name="dzen" type="radio" value="executordefinition"> <span about="v-wf:ExecutorDefinition" property="rdfs:label"></span>
    </div>
    <div class="col-md-4">
      <input id="codelet" name="dzen" type="radio" value="codelet"> <span about="v-s:Codelet" property="rdfs:label"></span>
    </div>
    <div class="col-md-4">
      <input id="appointment" name="dzen" type="radio" value="appointment"> <span about="v-s:Appointment" property="rdfs:label"></span>
    </div>
  </div>
  <div class="row executordefinition">
    <div class="col-md-3">
      <span about="v-wf:executorExpression" property="rdfs:label"> :
    </div>
    <div class="col-md-9">
      <veda-control data-type="source" mode="javascript" property="v-wf:executorExpression" style="width:95%"></veda-control>
    </div>
  </div>
  <div class="row codelet">
    <div class="col-md-3">
      <span about="v-s:script" property="rdfs:label"> :
    </div>
    <div class="col-md-9">
      <veda-control data-type="source" mode="javascript" property="v-s:script" style="width:95%"></veda-control>
    </div>
  </div>
  <div class="row appointment">
    <div class="col-md-3">
      <span about="v-s:Appointment" property="rdfs:label"> :
    </div>
    <div class="col-md-9">
        <veda-control rel="@" data-type="link" class="fulltext dropdown"></veda-control>
    </div>
  </div>
</div>
<script>
  $('.CodeMirror', template).each(function (idx) {
  $(this).height(40);
  });
  $('#executordefinition', template).on('click', function() {
    $('.executordefinition', template).show();
    $('.codelet', template).hide();
    $('.appointment', template).hide();
  });
  $('#codelet', template).on('click', function() {
    $('.executordefinition', template).hide();
    $('.codelet', template).show();
    $('.appointment', template).hide();
  });
  $('#appointment', template).on('click', function() {
    $('.executordefinition', template).hide();
    $('.codelet', template).hide();
    $('.appointment', template).show();
  });
  console.log(individual['rdf:type'][0].id);
  if (individual.hasValue('rdf:type')) {
    if (individual['rdf:type'][0].id == 'v-wf:ExecutorDefinition') $('#executordefinition', template).trigger('click');
    if (individual['rdf:type'][0].id == 'v-s:Codelet') $('#codelet', template).trigger('click');
    if (individual['rdf:type'][0].id == 'v-s:Appointment') $('#appointment', template).trigger('click');
  } else {
    $('#codelet', template).trigger('click');
  }
</script>
""".


v-wf:taskPropertySpecification12
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-wf:Task ;
  v-ui:forProperty v-wf:hasFlow ;
  v-ui:forProperty v-wf:startDecisionTransform ;
  v-ui:forProperty v-wf:completeDecisionTransform ;
  v-ui:maxCardinality "100"^^xsd:nonNegativeInteger ;
.

v-wf:MappingTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Мэппинг (встроенный шаблон)"@ru ;
  rdfs:label "Template for Mapping class (embedded template)"@en ;
  v-ui:template """
<div>
  <div class="row">
    <div class="col-md-3">
    <div about="@" rel="v-wf:mapToVariable" data-template="v-wf:VariableTemplateEmbedded" data-embedded="true"></div>
      <veda-control data-type="link" rel="v-wf:mapToVariable" class="view edit search -create"></veda-control>
    </div>
    <div class="col-md-9">
      <veda-control data-type="source" mode="javascript" property="v-wf:mappingExpression" style="width:95%"></veda-control>
    </div>
  </div>
</div>
<script>
  $('.CodeMirror', template).each(function (idx) {
    $(this).height(40);
  });
</script>
""".

v-wf:VariableTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Определение переменной (встроенный шаблон)"@ru ;
  rdfs:label "Template for Var define class (embedded template)"@en ;
  v-ui:template """
<div>
  <veda-control data-type="string" property="v-wf:varDefineName"></veda-control>
<!-- v-wf:varDefineScope -->
</div>""".

v-wf:TransformTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Транфсформация (встроенный шаблон)"@ru ;
  rdfs:label "Template for Transform class (embedded template)"@en ;
  v-ui:template """
<div>
  <div rel="v-wf:transformRule" data-template="v-wf:RuleTemplateEmbedded" data-embedded="true"></div>
    <veda-control data-type="link" rel="v-wf:transformRule" class="view edit search create"></veda-control>
  </div>
</div>
""".

v-wf:rulePropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  v-ui:forClass v-wf:Rule ;
  v-ui:forProperty v-wf:segregateObject ;
  v-ui:forProperty v-wf:segregateElement ;
  v-ui:forProperty v-wf:conversion ;
  v-ui:forProperty v-wf:create ;
  v-ui:forProperty v-wf:aggregate ;
  v-ui:maxCardinality "100"^^xsd:nonNegativeInteger ;
.

v-wf:transformPropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  v-ui:forClass v-wf:Transform ;
  v-ui:forProperty v-wf:create ;
  v-ui:forProperty v-wf:transformRule ;
  v-ui:maxCardinality "100"^^xsd:nonNegativeInteger ;
.

v-s:TS_Transform
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate v-wf:TransformationTemplate;
  v-ui:forClass v-wf:Transform
.
v-wf:TransformationTemplate
rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Трансформация"@ru ;
  rdfs:label "Template for Transofrmaion class"@en ;
  v-ui:template """
<div class="container sheet">
  <h2>
    <span about="@" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
  </h2>
  <!-- <div class="row">
    <div class="col-md-5 col-xs-5 text-right name">
      <strong class="text-muted" about="v-wf:aggregate" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7 col-xs-7" rel="transformRule">
      <span class="view search -create" property="@"></span>
      <veda-control property="@" class="-view edit create"></veda-control>
    </div>
  </div> -->
  <div class="row">
    <div class="col-md-5">
      <em about="v-wf:transformRule" property="rdfs:label"></em>
    </div>
  </div>
  <div rel="v-wf:transformRule" data-template="v-wf:RuleTemplate" data-embedded="true"></div>
    <veda-control data-type="link" rel="v-wf:transformRule" class="view edit search create"></veda-control>
  </div>
  <hr style="margin: 10px 0px">
  <div class="actions view edit -search">
    <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="edit save cancel delete"></span>
  </div>
</div>
"""
.

v-wf:RuleTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Правило"@ru ;
  rdfs:label "Template for Rule class"@en ;
  v-ui:template """
<div class="container sheet">
  <h2>
    <span about="@" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
  </h2>
  <div class="row">
    <div class="col-md-5 text-right">
      <strong about="rdfs:label" property="rdfs:label" class="text-muted"></strong>
    </div>
    <div class="col-md-7">
      <div property="rdfs:label" class="view search -create"></div>
      <veda-control property="rdfs:label" data-type="multilingualString" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="row">
    <div class="col-md-5 text-right name">
      <strong class="text-muted" about="v-wf:segregateObject" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7">
      <span class="view search -create" property="v-wf:segregateObject"></span>
      <veda-control property="v-wf:segregateObject" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="row">
    <div class="col-md-5 text-right name">
      <strong class="text-muted" about="v-wf:segregateElement" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7">
      <span class="view search -create" property="v-wf:segregateElement"></span>
      <veda-control property="v-wf:segregateElement" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="row">
    <div class="col-md-5 text-right name">
      <strong class="text-muted" about="v-wf:conversion" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7">
      <span class="view search -create" property="v-wf:conversion"></span>
      <veda-control property="v-wf:conversion" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="row">
    <div class="col-md-5 text-right name">
      <strong class="text-muted" about="v-wf:grouping" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7">
      <span class="view search -create" property="v-wf:grouping"></span>
      <veda-control property="v-wf:grouping" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="row">
    <div class="col-md-5 text-right name">
      <strong class="text-muted" about="v-wf:aggregate" property="rdfs:label"></strong>
    </div>
    <div class="col-md-7">
      <span class="view search -create" property="v-wf:aggregate"></span>
      <veda-control property="v-wf:aggregate" class="-view edit create"></veda-control>
    </div>
  </div>
  <hr style="margin: 10px 0px">
  <div class="actions view edit -search">
    <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="edit save cancel delete"></span>
  </div>
</div>
<script>
  if ($(template).parent().attr('data-embedded')){
    $(".actions", template).remove();
  };
</script>
""".

v-wf:RuleTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Правило (встроенный шаблон)"@ru ;
  rdfs:label "Template for Rule class (embedded template)"@en ;
  v-ui:template """
<div>
  <div class="row">
    <div class="col-md-4">
      <strong class="text-muted">Выделение подмножества обьектов</strong>
    </div>
    <div class="col-md-8">
    <div property="v-wf:segregateObject"></div>
      <veda-control property="v-wf:segregateObject" class="view edit search -create"></veda-control>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <strong class="text-muted">Выделение подмножества элементов</strong>
    </div>
    <div class="col-md-8">
    <div property="v-wf:segregateElement"></div>
      <veda-control property="v-wf:segregateElement" class="view edit search -create"></veda-control>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <strong class="text-muted">Преобразование элемента</strong>
    </div>
    <div class="col-md-8">
    <div property="v-wf:conversion"></div>
      <veda-control property="v-wf:conversion" class="view edit search -create"></veda-control>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <strong class="text-muted">Группировка объектов</strong>
    </div>
    <div class="col-md-8">
    <div property="v-wf:grouping"></div>
      <veda-control property="v-wf:grouping" class="view edit search -create"></veda-control>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <strong class="text-muted">Размещение элемента в обьекте</strong>
    </div>
    <div class="col-md-8">
    <div property="v-wf:aggregate"></div>
      <veda-control property="v-wf:aggregate" class="view edit search -create"></veda-control>
    </div>
  </div>
</div>
""".

v-wf:FlowTemplateEmbedded
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Поток (встроенный шаблон)"@ru ;
  rdfs:label "Template for Flow class (embedded template)"@en ;
  v-ui:template """
<div class="panel panel-default">
  <div class="panel-heading">
    <div class="row">
      <div class="col-md-3">
        <span about="v-wf:flowsInto" property="rdfs:label"> :
      </div>
      <div class="col-md-9">
        <strong><span about="@" rel="v-wf:flowsInto" data-template="v-ui:LabelTemplate"></span></strong>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-md-4">
        <span about="rdfs:label" property="rdfs:label"></span> :
        <veda-control data-type="string" property="rdfs:label"></veda-control>
      </div>
      <div class="col-md-8">
        <span about="v-wf:predicate" property="rdfs:label"></span> :
        <veda-control data-type="source" mode="javascript" property="v-wf:predicate"></veda-control>
      </div>
    </div>
  </div>
</div>
<script>
  $('.CodeMirror', template).each(function (idx) {
    $(this).height(40);
  });
</script>
""".

v-wf:FlowTemplateAsModal
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Поток (модальное окно)"@ru ;
  rdfs:label "Template for Flow class"@en ;
  v-ui:template """
<div>
  <table id="taskTemplateProperties" class="table table-condensed table-hover properties-editor">
    <thead>
      <tr>
        <td style="width:25%"><span about="v-wf:Net" property="rdfs:label"></span></td>
        <td><strong><span about="@" property="@"></span> <a href="#/@"><i class='glyphicon glyphicon-share-alt'></i></a></strong></td>
      </tr>
    </thead>
    <tr onclick="javascript: $('#VClabel').show(); $('#viewVClabel').hide();">
      <td><span about="rdfs:label" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VClabel" data-type="string" property="rdfs:label" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVClabel" about="@" property="rdfs:label"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCcomment').show(); $('#viewVCcomment').hide();">
      <td><span about="rdfs:comment" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCcomment" data-type="string" property="rdfs:comment" class="properties-editor" style="display:none;"></veda-control>
        <div id="viewVCcomment" about="@" property="rdfs:comment"></div>
      </td>
    </tr>
    <tr onclick="javascript: $('#VCpredicate').show().trigger('edit'); $('#viewVCpredicate').hide();">
      <td><span about="v-wf:predicate" property="rdfs:label"></span></td>
      <td>
        <veda-control id="VCpredicate" data-type="source" mode="javascript" property="v-wf:predicate" class="properties-editor" style="display:none;width:75%"></veda-control>
        <div id="viewVCpredicate" about="@" property="v-wf:predicate"></div>
      </td>
    </tr>
    <tr>
      <td><span about="v-wf:flowsInto" property="rdfs:label"></span></td>
      <td>
        <strong><span about="@" rel="v-wf:flowsInto" data-template="v-ui:LabelTemplate"></span></strong>
      </td>
    </tr>
  </table>
</div>
<script>
  function handler (values) {
    if (veda.net) {
      $.each(veda.net.getAllConnections(), function (idx, connection) {
        if(connection.id === individual.id) {
          var value = (typeof values[0] === "undefined") ? "" : values[0];
          if (connection.getOverlay("flowLabel") == undefined) {
            connection.addOverlay(["Label", { label: value, location:0.5, id: "flowLabel"} ]);
          } else {
            connection.getOverlay("flowLabel").setLabel(value);
          }
        }
      });
    }
  }
  individual.on("rdfs:label", handler);
  template.one("remove", function () {
    individual.off("rdfs:label");
  });
  //# sourceURL=v-wf:FlowTemplateAsProperties
</script>
  """ ;
.
